(()=>{var e={};e.id=904,e.ids=[904],e.modules={2820:(e,t,r)=>{Promise.resolve().then(r.bind(r,96942))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29908:e=>{e.exports={main:"page_main__nw1Wk",container:"page_container__jZF7q",title:"page_title__po7na",description:"page_description__lvaOp"}},31454:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(60687),n=r(68351),o=r.n(n);function a(){return(0,s.jsx)("p",{className:o().text,children:"There was an error, please try again..."})}},33120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var s=r(65239),n=r(48088),o=r(88170),a=r.n(o),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c={children:["",{children:["notes",{children:["action",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,36657)),"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/notes/action/create/page.tsx"]}]},{}]},{}]},{error:[()=>Promise.resolve().then(r.bind(r,96942)),"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/notes/error.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],modal:["__DEFAULT__",{},{defaultPage:[()=>Promise.resolve().then(r.bind(r,60413)),"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/@modal/default.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,13077)),"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,99766)),"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],modal:["__DEFAULT__",{},{defaultPage:[()=>Promise.resolve().then(r.bind(r,60413)),"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/@modal/default.tsx"]}]}.children,u=["/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/notes/action/create/page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/notes/action/create/page",pathname:"/notes/action/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33561:e=>{e.exports={main:"CreateNote_main__wIxhv",container:"CreateNote_container__gLSDT",title:"CreateNote_title__tklUI"}},33873:e=>{"use strict";e.exports=require("path")},36657:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>l});var s=r(37413),n=r(33561),o=r.n(n),a=r(79738);function i(){return(0,s.jsx)("main",{className:o().main,children:(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsx)("h1",{className:o().title,children:"Create note"}),(0,s.jsx)(a.default,{})]})})}let l={title:"Create New Note",description:"Fill out the form to add a new note. Capture your thoughts, ideas, or tasks quickly and easily.",openGraph:{title:"Create New Note",description:"Fill out the form to add a new note. Capture your thoughts, ideas, or tasks quickly and easily.",url:"https://08-zustand-beige.vercel.app/notes/action/create",images:[{url:"https://ac.goit.global/fullstack/react/notehub-og-meta.jpg",width:1200,height:630,alt:"Create Note"}]}};function c(){return(0,s.jsx)(i,{})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59556:(e,t,r)=>{"use strict";r.d(t,{FF:()=>l,GW:()=>o,Iy:()=>i,p4:()=>a});var s=r(51060);let n=process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;async function o(e,t,r){let n={page:t,perPage:12};return e&&(n.search=e),r&&(n.tag=r),(await s.A.get("/notes",{params:n})).data}async function a({title:e,content:t,tag:r}){return(await s.A.post("/notes",{title:e,content:t,tag:r})).data}async function i(e){return(await s.A.delete(`/notes/${e}`)).data}async function l(e){return(await s.A.get(`/notes/${e}`)).data}s.A.defaults.baseURL="https://notehub-public.goit.study/api",s.A.defaults.headers.common.Authorization=`Bearer ${n}`},61701:e=>{e.exports={form:"NoteForm_form__kBK_0",formGroup:"NoteForm_formGroup__bS5ba",input:"NoteForm_input__28hgd",textarea:"NoteForm_textarea__kzing",select:"NoteForm_select__Go8Rq",actions:"NoteForm_actions__aG_Xr",submitButton:"NoteForm_submitButton__vSvUI",cancelButton:"NoteForm_cancelButton__c33li",error:"NoteForm_error__swtoj"}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68351:e=>{e.exports={text:"ErrorMessage_text__vJQtc"}},68352:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(60687),n=r(31454),o=r(29908),a=r.n(o);let i=function({error:e}){return(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:a().errorMessage,children:["Could not fetch the list of notes. ",e.message]}),(0,s.jsx)(n.A,{})]})}},74075:e=>{"use strict";e.exports=require("zlib")},78591:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var s=r(60687),n=r(61701),o=r.n(n),a=r(8693),i=r(54050),l=r(59556),c=r(31454),u=r(16189),d=r(30485),p=r(43210),m=r(26787),x=r(59350);let h={title:"",content:"",tag:"Todo"},f=(0,m.v)()((0,x.Zr)(e=>({draft:h,setDraft:t=>{e(()=>({draft:t}))},clearDraft:()=>{e(()=>({draft:h}))}}),{name:"note-draft",partialize:e=>({draft:e.draft})})),g=d.Ik().shape({title:d.Yj().required("Title is required").min(3,"Title must be at least 3 characters").max(50,"Title is too long"),content:d.Yj().max(500,"Content is too long"),tag:d.Yj().oneOf(["Todo","Work","Personal","Meeting","Shopping"],"Invalid tag value").required("Tag is required")});function _(){let e=(0,u.useRouter)(),t=(0,a.useQueryClient)(),[r,n]=(0,p.useState)(null),{draft:m,setDraft:x,clearDraft:h}=f(),_=(0,i.useMutation)({mutationFn:async e=>(0,l.p4)(e),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"],exact:!1}),h(),P()}}),{isPending:v,isError:j}=_;function b(e){x({...m,[e.target.name]:e.target.value})}function P(){e.push("/notes/filter/all")}async function N(e){try{return await g.validate(e,{abortEarly:!1}),null}catch(e){if(e instanceof d.yI)return e.errors[0];return"Unknown validation error"}}async function y(e){let t=Object.fromEntries(e),r={title:t.title,tag:t.tag,content:t.content?t.content:void 0},s=await N(r);if(s)return void n(s);n(null),_.mutate(r)}return(0,s.jsxs)("form",{className:o().form,action:y,children:[(0,s.jsxs)("div",{className:o().formGroup,children:[(0,s.jsx)("label",{htmlFor:"title",children:"Title"}),(0,s.jsx)("input",{id:"title",type:"text",name:"title",className:o().input,defaultValue:m.title,onChange:b})]}),(0,s.jsxs)("div",{className:o().formGroup,children:[(0,s.jsx)("label",{htmlFor:"content",children:"Content"}),(0,s.jsx)("textarea",{id:"content",name:"content",rows:8,className:o().textarea,defaultValue:m.content,onChange:b})]}),(0,s.jsxs)("div",{className:o().formGroup,children:[(0,s.jsx)("label",{htmlFor:"tag",children:"Tag"}),(0,s.jsxs)("select",{id:"tag",name:"tag",className:o().select,defaultValue:m.tag,onChange:b,children:[(0,s.jsx)("option",{value:"Todo",children:"Todo"}),(0,s.jsx)("option",{value:"Work",children:"Work"}),(0,s.jsx)("option",{value:"Personal",children:"Personal"}),(0,s.jsx)("option",{value:"Meeting",children:"Meeting"}),(0,s.jsx)("option",{value:"Shopping",children:"Shopping"})]})]}),r&&(0,s.jsx)("span",{className:o().error,children:r}),(0,s.jsxs)("div",{className:o().actions,children:[(0,s.jsx)("button",{type:"button",className:o().cancelButton,onClick:P,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:o().submitButton,disabled:!!v,children:v?"Loading":"Create note "})]}),j&&(0,s.jsx)(c.A,{})]})}},79551:e=>{"use strict";e.exports=require("url")},79738:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/evgenii/Desktop/Projects/React/next/08-zustand/components/NoteForm/NoteForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/evgenii/Desktop/Projects/React/next/08-zustand/components/NoteForm/NoteForm.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},84260:(e,t,r)=>{Promise.resolve().then(r.bind(r,68352))},91718:(e,t,r)=>{Promise.resolve().then(r.bind(r,78591))},94735:e=>{"use strict";e.exports=require("events")},96942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/notes/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/evgenii/Desktop/Projects/React/next/08-zustand/app/notes/error.tsx","default")},99966:(e,t,r)=>{Promise.resolve().then(r.bind(r,79738))}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,362,577,76,485],()=>r(33120));module.exports=s})();